{% extends "global/BaseMotherhood.html" %}
{% load staticfiles otree_tags %}

{% block title %}
    Player Statistics Summary
{% endblock %}

{% block content %}

    <p class="text-success">

    </p>

    {% if debug %}
        <div class="panel panel-success">
            <div class="panel-heading">
            Debug Only:
            <br>Notes and issues: 
            <br>(1) This top table will be hidden in a real experment. Only the simple review table like task 1 will be seen. 
            <br>(2) This screen and player payoffs are calculated on the page (refresh may change results if tied for top score), something helpful for bug checking. Be sure to move this calc to before the page is loaded.
                <h3>You choose the "{{ payment_method_selection }}" method.</h3>
                <hr>
                <h3>Had you chosen <i><b>individual payment</i></b> your score would be {{total_payoff}}.</h3>
                <hr>
                <h3>Had you chosen <i><b>compared payment</i></b> your score would be:</h3>
                <h3>
                    Your Score: {{ total_payoff }}
                    <br><br>
                    Other player's scores in your group: {{ op_scores|join:", " }}
                    <br><br>
                    Top score among other players: {{ top_score }}
                    <br><br>
                    {{ result_print }}
                    <br><br>
                    Under compared payment your score would be {{ task_3_cp_score }}<br>
                    <hr>
                    Since you selected {{ payment_method_selection }} <b><u>your final score is: {{ final_score }}</b></u>
                    <br>
                </h3>
            </div>
        </div>
    {% endif %}


    <div class="panel panel-success">

        <div class="panel-heading">
            <h3>
            Your score from task 3: {{ total_payoff }}
            </h3>
            Note, if you see "False" and 0 points for a correct answer to your final summation task, that means the task was submitted after the timer had expired.
        </div>

        <table class="table">           
            <tr>
                <th><center>Summation #</th>
                <th><center>Intergers</th>
                <th><center>Solution</th>
                <th><center>Your Entry</th>
                <th><center>Correct?</th>
                <th><center>Score</th>
            </tr>
            {% for row in table_rows %}
            <tr>
                <td align="center">{{ row.round_number }}</td>
                <td align="center">{{ row.int1 }} + {{ row.int2 }}</td>
                <td align="center">{{ row.Ints_sum }}</td>
                <td align="center">{{ row.player_sum }}</td>
                <td align="center">{{ row.is_correct }}</td>
                <td align="center">{{ row.payoff }}</td>
            </tr>
            {% endfor %}

        </table>

    </div>

    
    {% next_button %}

{% endblock %}
